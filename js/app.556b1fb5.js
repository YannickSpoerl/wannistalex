(function(t){function e(e){for(var n,r,o=e[0],l=e[1],c=e[2],d=0,v=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&v.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(v.length)v.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("v-app",[a("v-app-bar",{attrs:{app:"",color:"primary",dark:""}},[a("h1",["/"!==t.appBar().to?a("s",[t._v("Wo")]):t._e(),t._v(" "+t._s(t.appBar().title))]),a("v-spacer"),a("v-btn",{attrs:{icon:"",to:t.appBar().to}},[a("v-icon",[t._v(t._s(t.appBar().icon))])],1)],1),a("router-view"),a("v-footer",{attrs:{dark:"",padless:"",height:"auto"}},[a("v-card",{staticClass:"flex primary",attrs:{flat:"",tile:""}},[a("v-card-title",[a("v-spacer"),t._l(t.icons,(function(e){return a("v-btn",{key:e.link,staticClass:"mx-3",attrs:{dark:"",icon:"",href:e.link,target:"_blank"}},[a("v-icon",{attrs:{size:"24px"}},[t._v(t._s(e.icon))])],1)})),a("v-spacer"),a("span",[t._v("version "+t._s(t.version))])],2)],1)],1)],1)],1)},s=[],r=(a("b0c0"),a("9224")),o={name:"App",data:function(){return{icons:[{icon:"fas fa-code",link:"https://github.com/YannickSpoerl/wannistalex"},{icon:"fab fa-vuejs",link:"https://vuejs.org/"},{icon:"fas fa-user",link:"http://yannickspoerl.me"},{icon:"fab fa-github",link:"https://github.com/YannickSpoerl"},{icon:"fab fa-spotify",link:"https://open.spotify.com/playlist/454IGseDQQiMdW5y8DReBL?si=2O_FC2R4SF60hxiXnp2KoA"}]}},methods:{appBar:function(){switch(this.$route.name){case"admin":return{icon:"fas fa-dice",to:"/",title:"AdminPanel"};default:return{icon:"fas fa-cog",to:"admin",title:"Wann ist Alex?"}}}},computed:{version:function(){return r["a"]}}},l=o,c=a("2877"),u=a("6544"),d=a.n(u),v=a("7496"),p=a("40dc"),f=a("8336"),b=a("b0af"),h=a("99d9"),m=a("553a"),g=a("132d"),S=a("2fa4"),_=Object(c["a"])(l,i,s,!1,null,null,null),x=_.exports;d()(_,{VApp:v["a"],VAppBar:p["a"],VBtn:f["a"],VCard:b["a"],VCardTitle:h["d"],VFooter:m["a"],VIcon:g["a"],VSpacer:S["a"]});var C=a("f309");a("15f5");n["a"].use(C["a"]);var y=new C["a"]({iconfont:"fa",theme:{themes:{light:{primary:"#009587"}}}}),j=a("0ff2"),w=a("8c4f"),k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"6"}},[a("TableComponent",{attrs:{bets:t.sortSlots(t.bets),alreadyArrived:t.alreadyArrived,pot:t.pot}})],1),a("v-col",{attrs:{cols:"6"}},[a("BetComponent",{attrs:{bets:t.sortSlots(t.bets),alreadyArrived:t.alreadyArrived,pot:t.pot}})],1)],1)],1)},V=[],T=(a("4160"),a("fb6a"),a("ac1f"),a("1276"),a("159b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[t.alreadyArrived?t._e():a("div",[a("v-row",{staticClass:"justify-center"},[t.alreadyArrived?t._e():a("p",{staticClass:"display-4 pa-6"},[t._v(t._s(t.liveTime))])]),a("v-row",{staticClass:"justify-center pa-2"},[t.alreadyArrived?t._e():a("v-btn",{attrs:{elevation:"12","x-large":"",color:"primary"},on:{click:t.stopTime}},[a("v-icon",[t._v("fas fa-user-clock")]),t._v(" Alex ist da!")],1)],1),a("v-row",{staticClass:"pa-3 justify-center"},[a("p",{staticClass:"display-1"},[t._v("aktiver Slot: "),a("strong",[t._v(t._s(t.activeSlot))])])]),a("v-row",{staticClass:"pa-3 justify-center"},[a("p",{staticClass:"display-1"},[t._v("Einsatz: "),a("strong",[t._v("1 €")])])]),a("v-spacer",{staticStyle:{"padding-top":"4.5em"}}),a("v-stepper",{staticClass:"mt-12",attrs:{"alt-labels":"",value:" "}},[a("v-stepper-header",[a("v-stepper-step",{attrs:{step:""}},[t._v(" "+t._s(t.previousBettor.bettor)+" "),a("small",{staticClass:"pa-1"},[t._v(t._s(t.previousBettor.slot))])]),a("v-divider"),a("v-stepper-step",{attrs:{step:" "}},[t._v(" "+t._s(t.currentBettor.bettor)+" "),a("small",{staticClass:"pa-1"},[t._v(t._s(t.currentBettor.slot))])]),a("v-divider"),a("v-stepper-step",{attrs:{step:""}},[t._v(" "+t._s(t.nextBettor.bettor)+" "),a("small",{staticClass:"pa-1"},[t._v(t._s(t.nextBettor.slot))])])],1)],1)],1),t.alreadyArrived?a("div",[a("v-row",{staticClass:"justify-center"},[a("p",{staticClass:"display-4 pa-6"},[t._v("Ankunft: "+t._s(t.arrivalTime))])]),a("v-row",{staticClass:"justify-center"},[a("p",{staticClass:"display-1"},[t._v("Slot: "),a("strong",[t._v(t._s(t.getSlot(t.arrivalTime)))])])]),a("v-card",{staticClass:"mx-auto",attrs:{color:"primary",dark:"","max-width":"600"}},[a("v-card-title",{staticClass:"display-1"},[t._v(t._s(t.winner.bettor)+" gewinnt!")]),a("v-card-subtitle",{staticClass:"headline"},[t._v(t._s(t.winner.slot))]),a("v-card-text",{staticClass:"body-1"},[t._v("Gewinn: "+t._s(t.pot)+"€")])],1)],1):t._e()])}),A=[],D=a("59ca"),B=a.n(D),O=(a("e71f"),{apiKey:"AIzaSyAw08BGWXCy2kliRZbpu9n7C7_KzUluGhs",authDomain:"wannistalex.firebaseapp.com",databaseURL:"https://wannistalex.firebaseio.com",projectId:"wannistalex",storageBucket:"wannistalex.appspot.com",messagingSenderId:"41845371386",appId:"1:41845371386:web:d03f898684459830673443"}),I=B.a.initializeApp(O).firestore(),E=B.a.firestore.Timestamp,M={name:"BetComponent",props:["bets","alreadyArrived","pot"],data:function(){return{liveTime:"",timeCounter:void 0,arrivals:[]}},firestore:{arrivals:I.collection("arrivals")},methods:{getTimeString:function(t){var e=t.getMinutes(),a=t.getSeconds(),n=t.getHours()+":";return e<10&&(n+="0"),n+=e+":",a<10&&(n+="0"),n+=a,n},stopTime:function(){I.collection("arrivals").add({subject:"Alex",time:E.fromDate(new Date)})},startTime:function(){var t=new Date;this.liveTime=this.getTimeString(t);var e=this;this.timeCounter=setInterval((function(){e.liveTime=e.getTimeString(new Date)}),1e3)},getSlot:function(t){if(void 0===t)return"/";var e=t.split(":")[0];if(e<8||e>17)return"/";var a=t.split(":")[1];if(a>=45){var n=parseInt(e)+1;return e+":45 - "+n+":00"}return a>=30?e+":30 - "+e+":45":a>=15?e+":15 - "+e+":30":e+":00 - "+e+":15"},getNearestBetIndex:function(t){for(var e=0,a="",n=864e5,i=0;i<this.bets.length;i++){var s=this.bets[i].slot;if(this.activeSlot===s)e=i,n=0,a="in";else{var r=new Date,o=s.split(" - ")[0].split(":")[0],l=s.split(" - ")[0].split(":")[1];r.setUTCHours(parseInt(o)),r.setMinutes(parseInt(l));var c=new Date;o=s.split(" - ")[1].split(":")[0],l=s.split(" - ")[1].split(":")[1],c.setUTCHours(parseInt(o)),c.setMinutes(parseInt(l)),Math.abs(r-t)>Math.abs(c-t)?Math.abs(c-t)<n&&(n=Math.abs(c-t),e=i,a="before"):Math.abs(r-t)<n&&(n=Math.abs(r-t),e=i,a="after")}}return{index:e,position:a}}},beforeMount:function(){this.startTime()},computed:{activeSlot:function(){return this.getSlot(this.liveTime)},arrivalTime:function(){var t,e=this,a=new Date;return this.arrivals.forEach((function(n){var i=new Date(1e3*n.time.seconds);i.getFullYear()!==a.getFullYear()||i.getMonth()!==a.getMonth()||i.getDate()!==a.getDate()||(t=e.getTimeString(i))})),t},previousBettor:function(){return this.bets.length<1?{bettor:"Keine Gebote",slot:" "}:0===this.nearestBettorIndex.index?{bettor:"Kein vorhergehender Bieter",slot:" "}:("in"===this.nearestBettorIndex.position||"after"===this.nearestBettorIndex.position)&&this.nearestBettorIndex.index>0?this.bets[this.nearestBettorIndex.index-1]:"before"===this.nearestBettorIndex.position?this.bets[this.nearestBettorIndex.index]:null},currentBettor:function(){var t=this;if(this.bets.length<1)return{bettor:"Keine Gebote",slot:" "};var e={bettor:"Keine Wette",slot:this.activeSlot};return this.bets.forEach((function(a){a.slot===t.activeSlot&&(e=a)})),e},nextBettor:function(){return this.bets.length<1?{bettor:"Keine Gebote",slot:" "}:this.nearestBettorIndex.index===this.bets.length-1?{bettor:"Kein nachfolgender Bieter",slot:" "}:"in"===this.nearestBettorIndex.position||"before"===this.nearestBettorIndex.position?this.bets[this.nearestBettorIndex.index+1]:"after"===this.nearestBettorIndex.position?this.bets[this.nearestBettorIndex.index]:null},nearestBettorIndex:function(){return this.getNearestBetIndex(new Date)},winner:function(){if(void 0===this.arrivalTime)return"";var t={bettor:"Niemand",slot:this.getSlot(this.arrivalTime)};return this.bets.forEach((function(e){e.slot!==t.slot||(t=e)})),t}}},z=M,P=a("a523"),W=a("ce7e"),$=a("0fd9"),K=a("7e85"),H=a("9c54"),N=a("56a4"),F=Object(c["a"])(z,T,A,!1,null,null,null),G=F.exports;d()(F,{VBtn:f["a"],VCard:b["a"],VCardSubtitle:h["b"],VCardText:h["c"],VCardTitle:h["d"],VContainer:P["a"],VDivider:W["a"],VIcon:g["a"],VRow:$["a"],VSpacer:S["a"],VStepper:K["a"],VStepperHeader:H["a"],VStepperStep:N["a"]});var R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.bets,"hide-default-footer":"","no-data-text":"Keine Wetten abgegeben"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-spacer"),a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},n),[a("v-icon",[t._v("fas fa-dice")]),t._v(" Neue Wette ")],1),a("v-spacer")]}}]),model:{value:t.editDialogOpen,callback:function(e){t.editDialogOpen=e},expression:"editDialogOpen"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.dialogTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-select",{attrs:{items:t.slotList,"item-text":"slot",label:"Zeitslot"},model:{value:t.editedSlot.slot,callback:function(e){t.$set(t.editedSlot,"slot",e)},expression:"editedSlot.slot"}})],1),a("v-col",{attrs:{cols:"6"}},[a("v-text-field",{attrs:{label:"Wettender"},model:{value:t.editedSlot.bettor,callback:function(e){t.$set(t.editedSlot,"bettor",e)},expression:"editedSlot.bettor"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{disabled:!t.betValid(t.editedSlot),color:"primary"},on:{click:function(e){return t.saveSlot(t.editedSlot)}}},[t._v("Speichern")]),a("v-btn",{on:{click:t.closeDialog}},[t._v("Abbrechen")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:"",disabled:t.alreadyArrived},on:{click:function(e){return t.editSlot(n)}}},[t._v(" fas fa-pencil-alt ")]),a("v-icon",{attrs:{small:"",disabled:t.alreadyArrived},on:{click:function(e){return t.deleteSlot(n)}}},[t._v(" fa fa-trash ")])]}}])}),a("v-divider",{staticStyle:{padding:"1em"}}),a("v-row",[a("v-col",{attrs:{cols:"6"}},[a("v-row",{staticClass:"justify-center"},[a("p",{staticClass:"headline pa-2"},[t._v("€ Pot: "),a("strong",[t._v(t._s(t.pot))])])]),a("v-row",{staticClass:"justify-center"},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.overviewHeaders,items:t.overview,"hide-default-footer":"","no-data-text":"Keine Wetten abgegeben"}})],1)],1),a("v-col",{attrs:{cols:"6"}},[a("v-row",{staticClass:"justify-center"},[a("p",{staticClass:"headline pa-2"},[t._v("# Wetten: "),a("strong",[t._v(t._s(t.bets.length))])])]),a("v-row",{staticClass:"justify-center"},[a("ChartComponent",{staticStyle:{"margin-right":"0.8em"},attrs:{bets:t.bets,slots:t.generateSlots()}})],1)],1)],1)],1)},L=[],U=(a("4ec9"),a("d3b7"),a("3ca3"),a("5319"),a("ddb0"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-sparkline",{attrs:{value:t.value,gradient:t.gradient,smooth:t.radius||!1,padding:t.padding,"line-width":t.width,"stroke-linecap":t.lineCap,fill:t.fill},scopedSlots:t._u([{key:"label",fn:function(e){return[t._v(" "+t._s(t.getLabel(e.index))+" ")]}}])})],1)}),Y=[],J={name:"ChartComponent",props:["slots","bets"],data:function(){return{width:2,radius:10,padding:8,lineCap:"round",gradient:["#009587"],fill:!1}},methods:{getLabel:function(t){switch(t){case 2:return"10:00";case 4:return"12:00";case 6:return"14:00";case 8:return"16:00"}}},computed:{value:function(){for(var t=[],e=0;e<11;e++)t.push(0);return this.bets.forEach((function(e){var a=parseInt(e.slot.split(" - ")[0].split(":")[0]);t[a-8]+=1})),t}}},Z=J,Q=a("7f2e"),X=Object(c["a"])(Z,U,Y,!1,null,null,null),q=X.exports;d()(X,{VCard:b["a"],VSparkline:Q["a"]});var tt={name:"TableComponent",props:["bets","alreadyArrived","pot"],components:{ChartComponent:q},data:function(){return{headers:[{text:"Zeitslot",align:"left",value:"slot",sortable:!1},{text:"Wettender",value:"bettor",sortable:!1},{text:"Aktion",value:"action",sortable:!1}],overviewHeaders:[{text:"Wettender",value:"bettor",sortable:!1},{text:"Slots",value:"numberOfSlots",sortable:!0},{text:"Gesamteinsatz in €",value:"totalAmount",sortable:!0}],editDialogOpen:!1,editedSlot:void 0}},beforeMount:function(){this.resetEditedSlot()},methods:{editSlot:function(t){this.editedSlot=Object.assign({},t),this.editDialogOpen=!0},saveSlot:function(t){""!==t.id?I.collection("bets").doc(t.id).set(t):I.collection("bets").add(t),this.closeDialog()},closeDialog:function(){this.editDialogOpen=!1,this.resetEditedSlot()},deleteSlot:function(t){I.collection("bets").doc(t.id).delete()},resetEditedSlot:function(){this.editedSlot={slot:"",bettor:"",amount:"1",subject:"Alex",id:""}},betValid:function(t){return!!t&&(void 0!==t.slot&&null!==t.slot&&""!==t.slot.replace(/\s/g,"")&&(void 0!==t.bettor&&null!==t.bettor&&""!==t.bettor.replace(/\s/g,"")&&(!(isNaN(t.amount)||""===t.amount||t.amount<=.5)&&(this.slotList.forEach((function(e){if(e.slot===t.slot)return!(e.id===t.id)})),!0))))},checkSlotExistence:function(t){var e=this,a=!1;return this.bets.forEach((function(n){n.slot===t.slot&&n.id!==e.editedSlot.id&&(a=!0)})),a},generateSlots:function(){for(var t=[],e=8;e<18;e++)t.push({slot:e+":00 - "+e+":15",bettor:"",amount:"",subject:"Alex",id:""}),t.push({slot:e+":15 - "+e+":30",bettor:"",amount:"",subject:"Alex",id:""}),t.push({slot:e+":30 - "+e+":45",bettor:"",amount:"",subject:"Alex",id:""}),t.push({slot:e+":45 - "+(e+1)+":00",bettor:"",amount:"",subject:"Alex",id:""});return t}},computed:{dialogTitle:function(){return""===this.editedSlot.slot?"Neue Wette anlegen":this.editedSlot.slot+" bearbeiten"},slotList:function(){if(!this.bets)return[];for(var t=this.generateSlots(),e=[],a=0;a<t.length;a++)this.checkSlotExistence(t[a])||e.push(t[a]);return e},overview:function(){var t=new Map;this.bets.forEach((function(e){t.has(e.bettor)||t.set(e.bettor,{numberOfSlots:0,totalAmount:0}),t.get(e.bettor).numberOfSlots+=1,t.get(e.bettor).totalAmount+=1}));var e=[];return t.forEach((function(t,a){e.push({bettor:a,numberOfSlots:t.numberOfSlots,totalAmount:t.totalAmount})})),e}}},et=tt,at=a("62ad"),nt=a("8fea"),it=a("169a"),st=a("b974"),rt=a("8654"),ot=a("71d9"),lt=Object(c["a"])(et,R,L,!1,null,null,null),ct=lt.exports;d()(lt,{VBtn:f["a"],VCard:b["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VCol:at["a"],VContainer:P["a"],VDataTable:nt["a"],VDialog:it["a"],VDivider:W["a"],VIcon:g["a"],VRow:$["a"],VSelect:st["a"],VSpacer:S["a"],VTextField:rt["a"],VToolbar:ot["a"]});var ut={name:"Home",components:{TableComponent:ct,BetComponent:G},data:function(){return{bets:[],arrivals:[]}},firestore:{bets:I.collection("bets"),arrivals:I.collection("arrivals")},methods:{sortSlots:function(t){var e=t.slice();return e.sort((function(t,e){var a=t.slot.split(" - ")[0],n=e.slot.split(" - ")[0];return a.split(":")[0]!==n.split(":")[0]?a.split(":")[0]-n.split(":")[0]:a.split(":")[1]!==n.split(":")[1]?a.split(":")[1]-n.split(":")[1]:void 0}))}},computed:{alreadyArrived:function(){var t=new Date,e=[];return this.arrivals.forEach((function(a){var n=new Date(1e3*a.time.seconds);n.getFullYear()===t.getFullYear()&&n.getMonth()===t.getMonth()&&n.getDate()===t.getDate()&&e.push(n)})),1===e.length},pot:function(){var t=0;return this.bets.forEach((function(e){t+=parseInt(e.amount)})),t}}},dt=ut,vt=a("a75b"),pt=Object(c["a"])(dt,k,V,!1,null,null,null),ft=pt.exports;d()(pt,{VCol:at["a"],VContent:vt["a"],VRow:$["a"]});var bt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-content",[a("v-row",{staticClass:"justify-space-around",attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"4"}},[a("v-row",{staticClass:"justify-center"},[a("p",{staticClass:"display-1"},[t._v("Personen")])]),a("v-row",[a("SubjectsComponent")],1)],1),a("v-col",{attrs:{cols:"3"}},[a("v-row",{staticClass:"justify-center"},[a("p",{staticClass:"display-1"},[t._v("Ankünfte")])]),a("v-row",[a("v-container",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.arrivalsHeaders,items:t.arrivals,"hide-default-footer":"","no-data-text":"Keine bisherigen Ankünfte"},scopedSlots:t._u([{key:"item.timeStamp",fn:function(e){var a=e.item;return[t._v(" "+t._s(t.getTimeStamp(a.time))+" ")]}},{key:"item.action",fn:function(e){var n=e.item;return[a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteArrival(n)}}},[t._v("fa fa-trash")])]}}])})],1)],1)],1),t.configurations.length>0?a("v-col",{attrs:{cols:"3"}},[a("v-row",{staticClass:"justify-center"},[a("p",{staticClass:"display-1"},[t._v("Einstellungen")])]),a("v-row",[a("v-container",[a("v-card",[a("v-container",[a("v-row",{staticClass:"justify-center"},[a("v-col",[t._v("Startzeit: ")]),a("v-col",[a("v-select",{attrs:{items:t.generateStartTimes(),label:"Wähle Startzeit",solo:""},on:{input:function(e){t.changedConfiguration=!0}},model:{value:t.configurations[0].startTime,callback:function(e){t.$set(t.configurations[0],"startTime",e)},expression:"configurations[0].startTime"}})],1)],1),a("v-row",{staticClass:"justify-center"},[a("v-col",[t._v("Endzeit: ")]),a("v-col",[a("v-select",{attrs:{items:t.generateEndTimes(),label:"Wähle Endzeit",solo:""},on:{input:function(e){t.changedConfiguration=!0}},model:{value:t.configurations[0].endTime,callback:function(e){t.$set(t.configurations[0],"endTime",e)},expression:"configurations[0].endTime"}})],1)],1),a("v-row",{staticClass:"justify-center"},[a("v-col",[t._v("Slotgröße: ")]),a("v-col",[a("v-select",{attrs:{items:t.slotSizes,label:"Wähle Slotgrößße",solo:""},on:{input:function(e){t.changedConfiguration=!0}},model:{value:t.configurations[0].slotSize,callback:function(e){t.$set(t.configurations[0],"slotSize",e)},expression:"configurations[0].slotSize"}})],1)],1),a("v-row",{staticClass:"justify-center"},[a("v-btn",{staticClass:"mb-2",attrs:{color:"primary",disabled:!t.changedConfiguration||t.timesValid},on:{click:function(e){return t.saveConfiguration()}}},[a("v-icon",[t._v("fas fa-save")]),t._v(" Speichern ")],1)],1)],1)],1)],1)],1)],1):t._e()],1)],1)},ht=[],mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.subjectsHeaders,items:t.subjects,"hide-default-footer":"","no-data-text":"Keine Personen hinzugefügt"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var n=e.on;return[a("v-spacer"),a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},n),[a("v-icon",[t._v("fas fa-user-plus")]),t._v(" Neue Person ")],1),a("v-spacer")]}}]),model:{value:t.editDialogOpen,callback:function(e){t.editDialogOpen=e},expression:"editDialogOpen"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.dialogTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"2"}},[t._v("Name: ")]),a("v-col",[a("v-text-field",{model:{value:t.editedSubject.subject,callback:function(e){t.$set(t.editedSubject,"subject",e)},expression:"editedSubject.subject"}})],1)],1),a("v-row",[a("v-col",{attrs:{cols:"2"}},[t._v("Einsatz: ")]),a("v-col",[a("v-slider",{attrs:{max:10,min:1,step:"1",ticks:"always","thumb-label":"always","tick-size":"1"},model:{value:t.editedSubject.jackpot,callback:function(e){t.$set(t.editedSubject,"jackpot",e)},expression:"editedSubject.jackpot"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",disabled:""===t.editedSubject.subject.replace(/\s/g,"")},on:{click:function(e){return t.saveSubject(t.editedSubject)}}},[t._v("Speichern")]),a("v-btn",{on:{click:t.closeDialog}},[t._v("Abbrechen")])],1)],1)],1)],1)]},proxy:!0},{key:"item.action",fn:function(e){var n=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editSubject(n)}}},[t._v(" fas fa-pencil-alt ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteSubject(n)}}},[t._v(" fa fa-trash ")])]}}])})],1)},gt=[],St={name:"SubjectsComponent",data:function(){return{editDialogOpen:!1,subjects:[],subjectsHeaders:[{text:"Erwartete Person",value:"subject",sortable:!1},{text:"Einsatzhöhe in €",value:"jackpot",sortable:!0},{text:"Aktion",value:"action",sortable:!1}],editedSubject:void 0}},firestore:{subjects:I.collection("subjects")},beforeMount:function(){this.resetEditedSubject()},methods:{resetEditedSubject:function(){this.editedSubject={subject:"",jackpot:3,id:""}},editSubject:function(t){this.editedSubject=Object.assign({},t),this.editDialogOpen=!0},saveSubject:function(t){""!==t.id?I.collection("subjects").doc(t.id).set(t):I.collection("subjects").add(t),this.closeDialog()},closeDialog:function(){this.resetEditedSubject(),this.editDialogOpen=!1},deleteSubject:function(t){I.collection("subjects").doc(t.id).delete()}},computed:{dialogTitle:function(){return""!==this.editedSubject.subject?this.editedSubject.subject+" bearbeiten":"Neue Person hinzufügen"}}},_t=St,xt=a("ba0d"),Ct=Object(c["a"])(_t,mt,gt,!1,null,null,null),yt=Ct.exports;d()(Ct,{VBtn:f["a"],VCard:b["a"],VCardActions:h["a"],VCardText:h["c"],VCardTitle:h["d"],VCol:at["a"],VContainer:P["a"],VDataTable:nt["a"],VDialog:it["a"],VIcon:g["a"],VRow:$["a"],VSlider:xt["a"],VSpacer:S["a"],VTextField:rt["a"],VToolbar:ot["a"]});var jt={name:"AdminPanel",components:{SubjectsComponent:yt},data:function(){return{arrivals:[],configurations:[],changedConfiguration:!1,arrivalsHeaders:[{text:"Person",value:"subject",sortable:!1},{text:"Ankunft",value:"timeStamp",sortable:!0},{text:"Aktion",value:"action",sortable:!1}],slotSizes:["5 min","10 min","15 min","30 min","60 min"]}},firestore:{arrivals:I.collection("arrivals"),configurations:I.collection("configuration")},methods:{saveConfiguration:function(){I.collection("configuration").doc(this.configurations[0].id).set(this.configurations[0]),this.changedConfiguration=!1},deleteArrival:function(t){I.collection("arrivals").doc(t.id).delete()},getTimeStamp:function(t){var e=new Date(1e3*t.seconds);return e.toLocaleDateString("de-DE",{hour:"2-digit",minute:"2-digit",year:"numeric",month:"numeric",day:"numeric"})},generateStartTimes:function(){for(var t=[],e=0;e<23;e++)t.push(e+":00 Uhr");return t},generateEndTimes:function(){for(var t=[],e=1;e<24;e++)t.push(e+":00 Uhr");return t}},computed:{timesValid:function(){var t=this.configurations[0].startTime.split(" ")[0],e=this.configurations[0].endTime.split(" ")[0];return parseInt(e)<=parseInt(t)}}},wt=jt,kt=Object(c["a"])(wt,bt,ht,!1,null,null,null),Vt=kt.exports;d()(kt,{VBtn:f["a"],VCard:b["a"],VCol:at["a"],VContainer:P["a"],VContent:vt["a"],VDataTable:nt["a"],VIcon:g["a"],VRow:$["a"],VSelect:st["a"]});a("ea7b");n["a"].use(w["a"]);var Tt=[{path:"/",name:"home",component:ft},{path:"/admin",name:"admin",component:Vt,beforeEnter:function(t,e,a){var n=B.a.auth().currentUser;if(!n){var i=new B.a.auth.GoogleAuthProvider;B.a.auth().signInWithPopup(i).then((function(t){t&&"spoerlyannick@gmail.com"===t.user.email?a("admin"):a("/")}))}n&&"spoerlyannick@gmail.com"===n.email?a():a("/")}}],At=new w["a"]({mode:"history",base:"/",routes:Tt}),Dt=At;n["a"].use(j["a"]),n["a"].config.productionTip=!1,new n["a"]({vuetify:y,router:Dt,render:function(t){return t(x)}}).$mount("#app")},9224:function(t){t.exports=JSON.parse('{"a":"1.0.1"}')}});
//# sourceMappingURL=app.556b1fb5.js.map